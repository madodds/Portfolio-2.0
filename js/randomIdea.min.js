angular.module("AngularApp",[]).controller("ideaCtrl",["$scope","$http",function(a,e){function d(){a.placeholderText="Sorry, I'm Temporarily Unavailable";a.idea="";a.engineInfo="";a.engineUrl="";a.getFailed=!0}d();a.placeholderText="Loading...";var g={};e.get("https://raw.githubusercontent.com/madodds/Game-Idea-Generator/master/Attributes.json").success(function(d){g=d;a.getFailed=!1;a.placeholderText="Press the Generate Idea button"}).error(function(){d();console.log("Could not read the JSON data from https://raw.githubusercontent.com/madodds/Game-Idea-Generator/master/Attributes.json")});
a.getIdea=function(){try{var e="Create {0} {1} {2} game that utilizes {3}, {4}, and {5}. This game has {6} {7} setting with {8} {9} art style.",f=[],b=[],c=g.attributes,b=getUniqueRandNums(c.genres.length,2);f.push(checkAn(c.genres[b[0]].an),c.genres[b[0]].genre,c.genres[b[1]].genre);b=getUniqueRandNums(c.perks.length,3);f.push(c.perks[b[0]].perk,c.perks[b[1]].perk,c.perks[b[2]].perk);b=[rand(c.settings.length)];f.push(checkAn(c.settings[b[0]].an),c.settings[b[0]].setting);b=[rand(c.styles.length)];
f.push(checkAn(c.styles[b[0]].an),c.styles[b[0]].style);a.idea=e.fArray(f);e="Need an engine? Try using {0} to build this game, which uses {1} as its language{2}.";b=[rand(c.engines.length)];f=[c.engines[b[0]].name,c.engines[b[0]].language,-1<c.engines[b[0]].language.indexOf(" and ")?"s":""];a.engineUrl=c.engines[b[0]].url;a.engineInfo=e.fArray(f);a.placeholderText=""}catch(k){d(),console.log(k)}};a.noUrl=function(){return""==a.engineUrl?!0:!1}}]);
String.prototype.format=String.prototype.fArray=function(a){for(var e=this,d=a.length;d--;)e=e.replace(new RegExp("\\{"+d+"\\}","gm"),a[d]);return e};function getUniqueRandNums(a,e){for(var d=[],g=0;g<e;g++)d.push(uniqueRand(a,d));return d}function uniqueRand(a,e){var d,g,h=0;do{h++;d=!0;g=rand(a);for(var f=0;f<e.length;f++)if(e[f]==g){d=!1;break}}while(!d||15<h);return g}function rand(a){return Math.floor(Math.random()*a)}function checkAn(a){return"true"==a?"an":"a"};